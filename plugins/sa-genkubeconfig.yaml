apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: sa-genkubeconfig
spec:
  version: "v1.0.0"
  homepage: https://gitlab.com/howtodoit/kubernetes/plugin/sa-genkubeconfig
  shortDescription: "This plugin allow to generate the kubeconfig file for a Service Account, output format is yaml and json"
  description: |
     This plugin allow to generate the kubeconfig file for a Service Account, output format is yaml and json. 
     Common scenario is the use for the kubernetes cluster connection in a Continuous Delivery scenario and also using kubectl tool config option, following the principle of least privilege   
  platforms:
  - selector:
      matchExpressions:
      - key: "os"
        operator: "In"
        values:
        - darwin
        - linux
    uri: https://gitlab.com/howtodoit/kubernetes/plugin/sa-genkubeconfig/-/archive/v1.0.0/sa-genkubeconfig-v1.0.0.tar.gz
    sha256: c409389c0f61edb250c4958b4b739a5bac1d8171bce374fb944caa68c23fb4f9
    files:
    - from: "sa-genkubeconfig-*/sa-genkubeconfig.sh"
      to: "sa-genkubeconfig.sh"
    - from: "sa-genkubeconfig-*/README.md"
      to: "README.md"
    bin: sa-genkubeconfig.sh